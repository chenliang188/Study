# 2 最优Django环境配置

本章描述了我们认为对于中等和高级Django使用者来说最优的本地环境配置

## 2.1 统一使用相同的数据库引擎

一个常见的开发者错误是在本地开发环境中使用SQLite3，而在生产环境中使用PostgreSQL(或MySQL)。本节的提示不仅仅适用于使用SQLite3和PostgreSQL这种种的情景，而是适用于任何你使用两种数据库却希望它们行为特性一致的情景。

下面是一些我们在开发和生产使用不同数据库时碰到的问题：

### 2.1.1 你不能在本地对线上数据的完整Copy做数据检查

当你的线上生产数据库和你的本地开发测试数据库不一样的时候，你就不能在本地数据库中对线上生产数据库的数据做完全复制，也就无法在本地做完整的数据检查。

当然你可以对线上数据库做一个SQL Dump，然后运行这些SQL把数据导入你的本地数据库，但是这不意味者你通过这样的导入导出得到的是线上数据的完整复制。

### 2.1.2 不同的数据库有不同的字段类型和数据约束

请牢记:不同的数据库可处理的数据字段的类型是不同的。Django的ORM努力去适配兼容这些不同的数据类型，但是其所能做的，也只有这么多。

比如：有些人在本地使用SQLite数据库，在线上生产环境用PostgreSQL数据库。他们认为Django ORM可以让他们不用考虑不同数据库的特性差异，最终他们都会陷入麻烦：因为SQLite是动态的弱类型，而不是PostgreSQL的强类型。

当然，Django ORM可以帮助你的代码以强类型的方式操作SQLite，但是表单和数据验证的错误在开发阶段不会被捕捉到直到代码上线。
