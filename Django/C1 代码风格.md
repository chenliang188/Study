# 1 代码风格

稍微关注一下下面这些代码标准风格指导规则将会对你大有益处，我们高度建议你通读词章，即便你此时可能正想跳过它。

## 1.1 让你的代码保持可读性的重要性

代码在读方面的重要性胜过写。一个代码块几分钟编写，花几个小时调试，然后有可能再也不会有人去碰它。然而当你去阅读那些昨天或者甚至10年以前编写的代码，清晰一致的代码风格就变得非常有用。清晰移动的代码能够让你不用去费劲去理解代码的不一致性，从而节省了自己的脑力，并且使代码易于维护，提高了各种规模项目的整体质量。

下面这些方法让你"多走一公里"使你的代码尽可能清晰易读：

- 避免缩写的变量名称
- 写出你的函数的参数名称
- 对你的类和方法要写注释文档
- 要对你的代码加注释
- 把重复的代码重构为可复用的函数和方法
- 使函数和方法短一点，一个好的经验法则是读函数和方法代码时不需要滚动鼠标(也就是函数或方法的长度不能大于一个屏幕的显示高度)

当你长时间不碰某段代码后，再重新拿起这段代码，你能很容易地找到当初是从哪儿中断编写工作的

缩写变量名是非常令人讨厌的。比如：当你看到一个`balance_sheet decrease`的变量名时，解释它肯定要比解释缩写版的`bsd`或者`bal_s_d`要容易。这种类型的缩写可能会帮你省一点输入时间，但是这种节省是以几小时甚至几天的技术(代码阅读)债为代价，所以这种节省不值当。

## 1.2 PEP8

**PEP8**是一个官方的Python代码风格指南。我们建议详细认真地阅读它并学会遵守PEP8的代码约定:(http://www.python.org/dev/peps/pep-0008/)

PEP8描述了类似下面这样的代码约定:

- “每一级代码缩进使用4个空格”
- “独立的顶级函数或者类定义语句下面必须有2个空行”
- “类中的方法定义之间必须用一个空行隔开”

在Django项目中的所有Python代码文件必须遵守PEP8。如果你记不住PEP8的代码规则，你可以为你的代码编辑器找一个检查你输入代码是否符合PEP8的插件。

当一个有经验的Python程序员在Django项目中看到对PEP8规范的严重违反，即便他当时什么也不说，也在想这是一件很坏的事情。关于这一点，一定要相信我们。

**警告：不要改变现存项目的代码约定**

PEP8的代码规范一般仅对新的Django项目产生约束，如果你新参与一个项目，这个项目使用的代码约定和PEP8规范不同，那你就遵守项目目前的代码约定即可。

请阅读PEP8规范的第8章节：愚蠢的一致性是令人讨厌的想法，这个规则正好适用于我们此时不死守PEP8规范的情况：

- http://2scoops.co/hobgoblin-of-little-minds |

**构建技巧：使用flake8检查代码质量

flake8这个项目由Tarek Ziadé发起，由PyCQA小组维护，这是一个非常有用的检查项目代码风格、质量和逻辑错误的命令行工具。当你在本地开发时，可以把它作为持续集成的一个工具组件使用。

### 1.2.1 79字符限制

`这不是开玩笑，我仍旧把命令行控制台控制在80个字符宽度`

--- Barry Morrison：系统工程师兼本书每一个版本的审阅者



